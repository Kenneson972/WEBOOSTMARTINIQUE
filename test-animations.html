<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Test Animations - WEBOOST Martinique</title>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/12.2.0/math.min.js"></script>
  
  <!-- Styles -->
  <link rel="stylesheet" href="assets/css/modern-design.css">
  <link rel="stylesheet" href="assets/css/liquid-glass.css">
  <link rel="stylesheet" href="assets/css/liquid-ether.css">
  
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #0f0f10;
      color: white;
      font-family: 'Inter', sans-serif;
    }
    
    .test-container {
      position: relative;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 2rem;
    }
    
    .test-card {
      width: 300px;
      height: 200px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    
    .status {
      font-size: 1.2rem;
      font-weight: 600;
      text-align: center;
    }
    
    .status.success {
      color: #10b981;
    }
    
    .status.error {
      color: #ef4444;
    }
    
    .controls {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
    }
    
    .btn {
      padding: 0.75rem 1.5rem;
      background: rgba(138, 43, 226, 0.8);
      border: none;
      border-radius: 10px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .btn:hover {
      background: rgba(138, 43, 226, 1);
      transform: translateY(-2px);
    }
  </style>
</head>
<body>
  <div class="test-container">
    <h1 style="text-align: center; margin-bottom: 2rem;">🧪 Test des Animations</h1>
    
    <!-- LiquidEther Background -->
    <div id="liquidEtherContainer" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;"></div>
    
    <!-- Status -->
    <div class="status" id="status">Vérification en cours...</div>
    
    <!-- Test Cards -->
    <div class="test-card" id="testCard1">
      <div style="text-align: center;">
        <h3>Card 1</h3>
        <p>GradualBlur Bottom</p>
      </div>
    </div>
    
    <div class="test-card" id="testCard2">
      <div style="text-align: center;">
        <h3>Card 2</h3>
        <p>GradualBlur Top</p>
      </div>
    </div>
    
    <!-- Controls -->
    <div class="controls">
      <button class="btn" onclick="testLiquidEther()">Test LiquidEther</button>
      <button class="btn" onclick="testGradualBlur()">Test GradualBlur</button>
      <button class="btn" onclick="testAll()">Test Tout</button>
    </div>
    
    <!-- Log -->
    <div id="log" style="position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.8); padding: 1rem; border-radius: 10px; max-width: 300px; font-size: 0.9rem; max-height: 200px; overflow-y: auto;"></div>
  </div>

  <!-- Scripts -->
  <script src="assets/js/liquid-ether.js"></script>
  <script src="assets/js/gradual-blur.js"></script>
  
  <script>
    let liquidEtherInstance = null;
    let gradualBlurInstances = [];
    
    function log(message, type = 'info') {
      const logDiv = document.getElementById('log');
      const timestamp = new Date().toLocaleTimeString();
      const color = type === 'error' ? '#ef4444' : type === 'success' ? '#10b981' : '#ffffff';
      logDiv.innerHTML += `<div style="color: ${color}; margin: 2px 0;">[${timestamp}] ${message}</div>`;
      logDiv.scrollTop = logDiv.scrollHeight;
      console.log(message);
    }
    
    function updateStatus(message, type = 'info') {
      const statusDiv = document.getElementById('status');
      statusDiv.textContent = message;
      statusDiv.className = `status ${type}`;
    }
    
    function testLiquidEther() {
      log('🧪 Test LiquidEther...');
      
      try {
        // Vérifier Three.js
        if (typeof THREE === 'undefined') {
          throw new Error('Three.js non chargé');
        }
        log('✅ Three.js chargé', 'success');
        
        // Créer LiquidEther
        if (typeof LiquidEther !== 'undefined') {
          liquidEtherInstance = new LiquidEther('liquidEtherContainer', {
            colors: ['#5227FF', '#FF9FFC', '#B19EEF'],
            mouseForce: 20,
            cursorSize: 100,
            autoDemo: true,
            autoSpeed: 0.5,
            autoIntensity: 2.2
          });
          log('✅ LiquidEther créé', 'success');
          updateStatus('LiquidEther actif !', 'success');
        } else {
          throw new Error('Classe LiquidEther non trouvée');
        }
      } catch (error) {
        log(`❌ Erreur LiquidEther: ${error.message}`, 'error');
        updateStatus('Erreur LiquidEther', 'error');
      }
    }
    
    function testGradualBlur() {
      log('🧪 Test GradualBlur...');
      
      try {
        if (typeof GradualBlur !== 'undefined') {
          // Test Card 1 - Bottom blur
          const blur1 = new GradualBlur({
            position: 'bottom',
            height: '3rem',
            strength: 2,
            divCount: 4,
            curve: 'bezier',
            exponential: true,
            opacity: 0.8
          });
          blur1.attachTo('#testCard1');
          gradualBlurInstances.push(blur1);
          
          // Test Card 2 - Top blur
          const blur2 = new GradualBlur({
            position: 'top',
            height: '2rem',
            strength: 1.5,
            divCount: 3,
            curve: 'ease-out',
            exponential: false,
            opacity: 0.7
          });
          blur2.attachTo('#testCard2');
          gradualBlurInstances.push(blur2);
          
          log('✅ GradualBlur créé sur les cartes', 'success');
          updateStatus('GradualBlur actif !', 'success');
        } else {
          throw new Error('Classe GradualBlur non trouvée');
        }
      } catch (error) {
        log(`❌ Erreur GradualBlur: ${error.message}`, 'error');
        updateStatus('Erreur GradualBlur', 'error');
      }
    }
    
    function testAll() {
      log('🧪 Test complet...');
      updateStatus('Test en cours...', 'info');
      
      setTimeout(() => {
        testLiquidEther();
      }, 500);
      
      setTimeout(() => {
        testGradualBlur();
      }, 1000);
      
      setTimeout(() => {
        updateStatus('Tests terminés !', 'success');
      }, 2000);
    }
    
    // Auto-test au chargement
    document.addEventListener('DOMContentLoaded', () => {
      log('📄 Page chargée');
      log('🔍 Vérification des dépendances...');
      
      // Vérifier les dépendances
      if (typeof THREE === 'undefined') {
        log('❌ Three.js non chargé', 'error');
      } else {
        log('✅ Three.js chargé', 'success');
      }
      
      if (typeof math === 'undefined') {
        log('❌ Math.js non chargé', 'error');
      } else {
        log('✅ Math.js chargé', 'success');
      }
      
      if (typeof LiquidEther === 'undefined') {
        log('❌ LiquidEther non chargé', 'error');
      } else {
        log('✅ LiquidEther chargé', 'success');
      }
      
      if (typeof GradualBlur === 'undefined') {
        log('❌ GradualBlur non chargé', 'error');
      } else {
        log('✅ GradualBlur chargé', 'success');
      }
      
      // Lancer le test automatique après 2 secondes
      setTimeout(() => {
        testAll();
      }, 2000);
    });
  </script>
</body>
</html>
